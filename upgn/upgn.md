# UPGN Files

The .upgn file extensions are used to store the state of a game of Ultimate Tic Tac Toe. The file is a text file that
contains the state of the game in a format, with specific details listed below. It is similar to the PGN format used for
chess games.

## Tag Pairs
Just like in PGN, the .upgn file format uses tag pairs to store metadata about the game. The tag pairs are stored at the
beginning of the file, with each tag pair on its own line. The tag pairs are stored in the
format `[TagName "TagValue"]`. Where `TagName` is the name of the tag, and `TagValue` is the value of the tag. The tag
value is expected to be in double quotes, and the entire tag pair is expected to be on a single line.

## Seven Tag Roster
The .upgn file format uses the Seven Tag Roster to store metadata about the game. The Seven Tag Roster is a set of seven
tag pairs. They are as follows:
- `Event`: The name of the event or tournament.
- `Site`: The location of the event or tournament.
- `Date`: The date the game was played.
- `Round`: The round of the event or tournament.
- `X`: The player of Xs, in the format `FirstName LastName`.
- `O`: The player of Os, in the format `FirstName LastName`.
- `Result`: The result of the game, in the format `ResultType`, where `ResultType` is one of the following:
  - `1-0`: X won the game.
  - `0-1`: O won the game.
  - `1/2-1/2`: The game ended in a draw.
  - `*`: The result is unknown or ongoing.

## Optional Tags
In addition to the Seven Tag Roster, the .upgn file format allows for additional tag pairs to be added to the file. 
These tag pairs can be used to store additional metadata about the game. The tag pairs can be added in any order, and
put after the Seven Tag Roster.

- `Annotator`: The name of the person who annotated the game.
- `TimeControl`: The time control used for the game.
- `Time`: The local time the game started.
- `Termination`: The reason the game ended.

## Move Section
After the tag pairs, the .upgn file format contains the move section. The move section is a list of moves made in the 
game, in numerical order. Each move can be on its own line, and is in the format `[MoveNumber. XMove OMove]`. Where `MoveNumber`
is the number of the move, `XMove` is the move made by X, and `OMove` is the move made by O. The moves are in the format
`<Column><Row>`, such as `A1` or `C3`. For example `1. A1 B2` would be the first move of the game.

## Example
Here is an example of a .upgn file:
```
[Event "Live upgn"]
[Site "https://michaelxing.com/UltimateTTT/v3"]
[Date "2024.12.15"]
[Round "-"]
[X "Stanley, Mark"]
[O "Hard-AI"]
[Result "0-1"]
[Termination "Hard-AI wins by tic-tac-toe"]

1. F4 H2 2. F6 H8 3. F5 H5 4. G4 B2 5. G6 B8 6. G5 B5 7. C4 I1
8. G3 C9 9. H7 F1 10. H3 E7 11. F3 G7 12. B1 D1 13. B3 F7 14. I3 I9
15. B4 E3 16. D9 B7 17. E1 D3 18. B9 E9 19. D7 A1 20. A3 A7 21. A2 A4
22. C3 E8# 0-1
```
These games will be autogenerated by the website, and can be downloaded and shared with others. Furthermore, if you play
a game via the python script, you can run the `save_game` function to save the game to a .upgn file.